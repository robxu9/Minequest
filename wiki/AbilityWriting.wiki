#This page is a intro to writing your own abilities and adding them into MineQuest.

= Introduction =

MineQuest is designed to load all of its abilities from the abilities.jar file located in the CraftBukkit directory. It loads all of the classes in the package org.monk.MineQuest.Ability. It assumes that all classes in the jar in that package are extensions of the abstract class Ability. This page will describe all of the abstract functions, and some other handy functions.

= Details =

== Get Name ==
{{{
public abstract String getName();
}}}

This function is pretty simple, it returns the name of the ability that will be used by MineQuest, also used to store it in the database.

== Get Class Type ==

{{{
public abstract SkillClass getClassType();
}}}
This function determines what SkillClass will inherit this ability. Currently there are 8 options for this. They are Warrior, Archer, WarMage, PeaceMage, Miner, Digger, Lumberjack, and Farmer. This function should return a blank instance of the class it belongs to.

{{{
return new Archer();
}}}

== Get Mana Cost ==

{{{
public abstract List<ItemStack> getManaCost();
}}}

All abilities have components that are spent each time it is cast/enabled. Each Item should be listed separately with an amount of 1. This function should return the list that is constructed as follows.

{{{
list.add(newItemStack(Material.DIRT, 1)); // 4 Dirt
list.add(newItemStack(Material.DIRT, 1));
list.add(newItemStack(Material.DIRT, 1));
list.add(newItemStack(Material.DIRT, 1));
}}}

== Cast Ability ==
{{{
public abstract void castAbility(Quester quester, Location location, LivingEntity entity);
}}}

This is called when non passive abilities are activated. Binding and spell cost will have already been been checked and no checking is required for casting. Quester will be null if the ability is being cast by a mob. The location is the location of the target if one exists, if it is only an arm swing then the location will be location of the caster. The entity will be the target if an attack triggers the casting, if there is not target then the entity will be null.

== Get Cast Time ==
{{{
public int getCastTime();
}}}

This restricts how often the ability can be cast. The time is in milliseconds and if the function is not overloaded it defaults to 0.

== Get Required Level ==
{{{
public abstract getReqLevel();
}}}

This determines at what level the class will receive this ability. Also whatever spell components have been set it will cost an additional Redstone per 4th required level. To remove this restriction then the function getRealManaCost can be overloaded.

== Structural Changes ==

All abilities that make structural changes to the world (i.e. removing the floor like Trap) should check to make sure the player is authorized to make these changes. This can be checked using the canEdit function for any quester. This will return true if the quester is allowed to edit the desired block. It will also set off any quest affects for trying to edit that specific block.
{{{
public boolean quester.canEdit(Block affected);
}}}